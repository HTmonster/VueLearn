# ç»„ä»¶

## ç»„ä»¶å

###  ğŸ‘kebab-case (çŸ­æ¨ªçº¿åˆ†éš”å‘½ä»¤ï¼‰

- my-component-name

### PascalCase (é¦–å­—æ¯å¤§å†™å‘½åï¼‰

- MyComponentName

## æ³¨å†Œä¸ä½¿ç”¨

### å…¨å±€æ³¨å†Œ

- åˆ›å»º

	- Vue.component('my-component-name', {
  // ... é€‰é¡¹ ...
})

- ä½¿ç”¨

	- new Vue({ el: '#app' })

// å¯ä»¥åœ¨åˆ›å»ºçš„Vueæ ¹å®ä¾‹ä¸­ä½¿ç”¨
<div id="app">
  <mycomponent-name></mycomponent-name
</div>

### å±€éƒ¨æ³¨å†Œ

- åˆ›å»º

	- var ComponentA = { /* ... */ }
var ComponentB = { /* ... */ }
var ComponentC = { /* ... */ }

- ä½¿ç”¨

	- ä½¿ç”¨ components é€‰é¡¹
	- new Vue({
  el: '#app',
  components: {
    'component-a': ComponentA,
    'component-b': ComponentB
  }
})

## æ¨¡å—ç³»ç»Ÿ

### æ¨¡å—ç³»ç»Ÿä¸­çš„å±€éƒ¨æ³¨å†Œ

- åˆ›å»ºä¸€ä¸ªcompomentsç›®å½• æ¯ä¸ªç»„ä»¶æ”¾åœ¨å„è‡ªçš„æ–‡ä»¶ä¸­
- åœ¨å±€éƒ¨æ³¨å†Œå‰å¼•å…¥æƒ³è¦ä½¿ç”¨çš„æ¨¡å—

	- import ComponentA from './ComponentA'
import ComponentC from './ComponentC'

export default {
  components: {
    ComponentA,
    ComponentC
  },
  // ...
}

### åŸºç¡€ç»„ä»¶çš„å…¨å±€æ³¨å†Œ

- ä½¿ç”¨webpack

	- åªå…¨å±€æ³¨å†Œè¿™äº›é€šç”¨çš„ç»„ä»¶
	- åº”ç”¨å…¥å£æ–‡ä»¶ä¾‹å­ src/main

		- import Vue from 'vue'
import upperFirst from 'lodash/upperFirst'
import camelCase from 'lodash/camelCase'

const requireComponent = require.context(
  // å…¶ç»„ä»¶ç›®å½•çš„ç›¸å¯¹è·¯å¾„
  './components',
  // æ˜¯å¦æŸ¥è¯¢å…¶å­ç›®å½•
  false,
  // åŒ¹é…åŸºç¡€ç»„ä»¶æ–‡ä»¶åçš„æ­£åˆ™è¡¨è¾¾å¼
  /Base[A-Z]\w+\.(vue|js)$/
)

requireComponent.keys().forEach(fileName => {
  // è·å–ç»„ä»¶é…ç½®
  const componentConfig = requireComponent(fileName)

  // è·å–ç»„ä»¶çš„ PascalCase å‘½å
  const componentName = upperFirst(
    camelCase(
      // è·å–å’Œç›®å½•æ·±åº¦æ— å…³çš„æ–‡ä»¶å
      fileName
        .split('/')
        .pop()
        .replace(/\.\w+$/, '')
    )
  )

  // å…¨å±€æ³¨å†Œç»„ä»¶
  Vue.component(
    componentName,
    // å¦‚æœè¿™ä¸ªç»„ä»¶é€‰é¡¹æ˜¯é€šè¿‡ `export default` å¯¼å‡ºçš„ï¼Œ
    // é‚£ä¹ˆå°±ä¼šä¼˜å…ˆä½¿ç”¨ `.default`ï¼Œ
    // å¦åˆ™å›é€€åˆ°ä½¿ç”¨æ¨¡å—çš„æ ¹ã€‚
    componentConfig.default || componentConfig
  )
})

	- å…¨å±€æ³¨å†Œçš„è¡Œä¸ºå¿…é¡»åœ¨æ ¹Vueå‰

## Prop

### å¤§å°å†™

- HTML ä¸­å¤§å°å†™ä¸æ•æ„Ÿ
- ä½¿ç”¨DOMæ¨¡æ¿æ—¶å€™camelCase (é©¼å³°å‘½åæ³•) çš„ prop åéœ€è¦ä½¿ç”¨å…¶ç­‰ä»·çš„ kebab-case (çŸ­æ¨ªçº¿åˆ†éš”å‘½å) å‘½å

### ç±»å‹

- æŒ‡å®špropå¯¹åº”çš„å€¼ç±»å‹

	- props: {
  title: String,
  likes: Number,
  isPublished: Boolean,
  commentIds: Array,
  author: Object,
  callback: Function,
  contactsPromise: Promise // or any other constructor
}

### ä¼ é€’Prop

- åˆ†ç±»

	- é™æ€

		- <blog-post title=" hahahah" ></blog-post>

	- åŠ¨æ€

		- é€šè¿‡v-bindåŠ¨æ€èµ‹å€¼

			- å˜é‡

				- <blog-post v-bind:title="post.title"></blog-post>

			- å¤æ‚è¡¨è¾¾å¼

				- <blog-post v-bind:title="post.title+ 'by' +post.author.name"> </blog-post>

- ä¾‹å­

	- æ•°å­—

		- å³ä½¿æ˜¯é™æ€çš„ ä¹Ÿéœ€è¦ v-bind  ç›¸å½“äºä¸€ä¸ªJSè¡¨è¾¾å¼

			- <blog-post v-bind:likes="42"></blog-post>

		- å˜é‡

			-  <blog-post v-bind:likes="post.likes"></blog-post>

	- å¸ƒå°”å€¼

		- propæ²¡æœ‰å€¼ æ„å‘³ç€True
		- å³ä½¿falseæ˜¯é™æ€çš„ æˆ‘ä»¬ä¹Ÿéœ€è¦v-bind  ç›¸å½“äºè¡¨è¾¾å¼

			- <blog-post v-bind:is-published="false"></blog-post>

		- å˜é‡

			- <blog-post v-bind:is-published="post.isPublished"></blog-post>

	- æ•°ç»„

		- é™æ€ ä½¿ç”¨V-bind

			- <blog-post v-bind:comment-ids="[234, 266, 273]"></blog-post>

		- å˜é‡

			- <blog-post v-bind:comment-ids="post.commentIds"></blog-post>

	- å¯¹è±¡

		- é™æ€  ä½¿ç”¨bind
		- å˜é‡

	- å¯¹è±¡çš„æ‰€æœ‰å±æ€§

		- <blog-post v-bind="post"></blog-post>
		- <blog-post
  v-bind:id="post.id"
  v-bind:title="post.title"
></blog-post>

### å•å‘æ•°æ®æµ

- å•å‘ä¸‹è¡Œç»‘å®š
- çˆ¶çº§ç»„ä»¶æ›´æ–°  å­ç»„ä»¶ä¸­çš„propä¼šåˆ·æ–°ä¸ºæœ€æ–°çš„å€¼
-  ä¸åº”è¯¥åœ¨å­ç»„ä»¶å†…æ”¹å˜prop 

	- æ”¹å˜propæƒ…å½¢

		- ä½œä¸ºæœ¬åœ°çš„propæ•°æ®ä½¿ç”¨

			- props: ['initialCounter'],
data: function () {
  return {
    counter: this.initialCounter
  }
}

		- propåŸå§‹å€¼ä¼ å…¥éœ€è¦è¿›è¡Œè½¬æ¢

			- props: ['size'],
computed: {
  normalizedSize: function () {
    return this.size.trim().toLowerCase()
  }
}

- æ³¨æ„

	- æ•°ç»„
	- å¯¹è±¡

### éªŒè¯

- åŸºç¡€çš„ç±»å‹æ£€æŸ¥

	- null å’Œundefinedä¼šé€šè¿‡ä»»ä½•ç±»å‹æ£€æŸ¥
	- propA: Number

- å¤šä¸ªå¯èƒ½çš„ç±»å‹

	- propB: [String, Number]

- å­—ç¬¦ä¸²å¿…å¡«

	- propC: {
      type: String,
      required: true
    },

- æ•°å­—é»˜è®¤å€¼

	- propD: {
      type: Number,
      default: 100
    },

- å¯¹è±¡é»˜è®¤å€¼

	- propE: {
      type: Object,
      // å¯¹è±¡æˆ–æ•°ç»„é»˜è®¤å€¼å¿…é¡»ä»ä¸€ä¸ªå·¥å‚å‡½æ•°è·å–
      default: function () {
        return { message: 'hello' }
      }

- è‡ªå®šä¹‰éªŒè¯å‡½æ•°

	- propF: {
      validator: function (value) {
        // è¿™ä¸ªå€¼å¿…é¡»åŒ¹é…ä¸‹åˆ—å­—ç¬¦ä¸²ä¸­çš„ä¸€ä¸ª
        return ['success', 'warning', 'danger'].indexOf(value) !== -1
      }
    }

### éProp çš„ å±æ€§

- å®šä¹‰

	- æŒ‡å‘ä¸€ä¸ªç»„ä»¶ ä½†æ˜¯è¯¥ç»„ä»¶æ²¡æœ‰å¯¹åº”çš„propå®šä¹‰
	- åŸå› ï¼š ç»„ä»¶ä¸èƒ½é¢„è§ç»„ä»¶ä¼šè¢«åº”ç”¨ä¸ä»€ä¹ˆæ ·çš„åœºæ™¯
	- ç»„ä»¶å¯ä»¥æ¥å—ä»»æ„çš„å±æ€§  è¿™äº›å±æ€§ä¼šè¢«æ·»åŠ åœ¨ç»„ä»¶ä¸­çš„æ ¹å±æ€§ä¸Š

- æ›¿æ¢å·²æœ‰çš„ å±æ€§

	- é»˜è®¤æƒ…å†µ

- åˆå¹¶å·²æœ‰çš„å±æ€§

	- class
	- style

- ç¦ç”¨å±æ€§ç»§æ‰¿

	- è®¾ç½®

		- Vue.component('my-component', {
  inheritAttrs: false,
  // ...
})

	- $attrs å±æ€§

		- è¯¥å±æ€§åŒ…å«äº†ä¼ é€’ç»™ä¸€ä¸ªç»„ä»¶çš„ attribute åå’Œ attribute å€¼

## è‡ªå®šä¹‰äº‹ä»¶

### äº‹ä»¶å

- ä¸ä¼šè‡ªåŠ¨åŒ–çš„å¤§å°å†™è½¬æ¢
- æ¨èå§‹ç»ˆä½¿ç”¨ kebab-case çš„äº‹ä»¶å

### è‡ªå®šä¹‰ç»„ä»¶çš„ v-model

- v-model é»˜è®¤åˆ©ç”¨

	- åä¸º valueçš„prop
	- åä¸ºinputçš„äº‹ä»¶

- å†²çª

	- å•é€‰æ¡† å¤é€‰æ¡†ç­‰è¾“å…¥æ§ä»¶ä¼šå°† valueç”¨äºä¸åŒçš„ç›®çš„

- è§£å†³

	- ä½¿ç”¨modelé€‰é¡¹

		- Vue.component('base-checkbox', {
  model: {
    prop: 'checked',
    event: 'change'
  },
  props: {
    checked: Boolean
  },
  template: `
    <input
      type="checkbox"
      v-bind:checked="checked"
      v-on:change="$emit('change', $event.target.checked)"
    >
  `
})
		- <base-checkbox v-model="lovingVue"></base-checkbox>
		- lovingVueçš„å€¼-->åä¸ºcheckedçš„propä¸­
		- å½“<base-checkbox> è§¦å‘changeäº‹ä»¶--> æ›´æ–°lovingVueå±æ€§

### åŸç”Ÿäº‹ä»¶ç»‘å®šåœ¨ç»„ä»¶

- å¤šæ¬¡æƒ³åœ¨ä¸€ä¸ªç»„ä»¶çš„æ ¹å…ƒç´ ä¸Šç›´æ¥ç›‘å¬ä¸€ä¸ªåŸç”Ÿäº‹ä»¶

	- v-on çš„ .nativeä¿®é¥°ç¬¦

		- <base-input v-on:focus.native="onFocus"></base-input>

- $listenerså±æ€§

	- å¯¹è±¡
	- åŒ…å«äº†ä½œç”¨åœ¨è¿™ä¸ªç»„ä»¶çš„æ‰€æœ‰ç›‘å¬å™¨

		- {
  focus: function (event) { /* ... */ }
  input: function (value) { /* ... */ },
}

- .sync

	- åŒå‘ç»‘å®š

## æ’æ§½

### æ’æ§½å†…å®¹

- å†…å®¹åˆ†å‘çš„API
- ç»„ä»¶æ¨¡ç‰ˆ<slot> </slot>
- ç»„ä»¶æ¸²æŸ“ æ—¶ å¯ä»¥æ›¿æ¢ä¸º 

	- æ™®é€šå†…å®¹
	- æ¨¡ç‰ˆä»£ç 
	- å…¶ä»–ç»„ä»¶

- è‹¥æ²¡æœ‰<slot>å…ƒç´  åˆ™ç»„ä»¶èµ·å§‹æ ‡ç­¾å’Œç»“æŸæ ‡ç­¾å†…çš„å†…å®¹ä¼šè¢«æŠ›å¼ƒ

### ç¼–è¯‘ä½œç”¨åŸŸ

- çˆ¶çº§æ¨¡ç‰ˆæ‰€æœ‰å†…å®¹åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ç¼–è¯‘
- å­æ¨¡ç‰ˆä¸­çš„æ‰€æœ‰å†…å®¹éƒ½åœ¨å­ä½œç”¨åŸŸä¸­ç¼–è¯‘

### åå¤‡ï¼ˆé»˜è®¤ï¼‰å†…å®¹

- <slot>Submit</slot>

### å…·åæ’æ§½

- ç‰¹æ®Šçš„ attribute: name  ä¸å¸¦æ—¶å€™é»˜è®¤ä¸ºdefualt
- æ¨¡ç‰ˆå®šä¹‰

	- <slot name="header"><slot>

- æä¾›å†…å®¹

	- <template v-slot:header>
    <h1>Here might be a page title</h1>
  </template>

- ç¼©å†™

	-  <template #header>
    <h1>Here might be a page title</h1>
  </template>

### ä½œç”¨åŸŸæ’æ§½

- è®©æ’æ§½å†…å®¹èƒ½å¤Ÿè®¿é—®å­ç»„ä»¶çš„æ•°æ®
- æ’æ§½prop

	- å°† å†…å®¹ä½œä¸º <slot>å…ƒç´  ä½œä¸ºä¸€ä¸ªattributeç»‘å®šä¸Šå»

		-  <slot v-bind:user="user">
    {{ user.lastName }}
  </slot>

	- è‡ªå®šä¹‰æ’æ§½propçš„åå­—

		- <template v-slot:default="slotProps">
    {{ slotProps.user.firstName }}
  </template>

- ç‹¬å é»˜è®¤æ’æ§½çš„ç¼©å†™è¯­æ³• æ³¨æ„ä¸è¦ä¸å…·åæ’æ§½æ··ç”¨

	- <current-user v-slot="slotProps">
  {{ slotProps.user.firstName }}
</current-user>

- è§£æ„æ’æ§½ prop

	- ä½¿ç”¨ ES2015è§£æ„
	- <current-user v-slot="{ user }">
  {{ user.firstName }}
</current-user>
	- <current-user v-slot="{ user: person }">
  {{ person.firstName }}
</current-user>
	- <current-user v-slot="{ user = { firstName: 'Guest' } }">
  {{ user.firstName }}
</current-user>

### åŠ¨æ€æ’æ§½å

- åŠ¨æ€æŒ‡ä»¤å‚æ•°

	- <template v-slot:[dynamicSlotName]>
    ...
  </template>

### åºŸå¼ƒçš„è¯­æ³• 2.6.0

- å¸¦æœ‰ slot attribute çš„å…·åæ’æ§½
- å¸¦æœ‰ slot-scope attribute çš„ä½œç”¨åŸŸæ’æ§½

## åŠ¨æ€ç»„ä»¶&å¼‚æ­¥ç»„ä»¶

### ç¼“å­˜

- å¸Œæœ›ç»„ä»¶åœ¨ç¬¬ä¸€æ¬¡è¢«åˆ›å»ºçš„æ—¶å€™ç¼“å­˜ä¸‹æ¥
- <!-- å¤±æ´»çš„ç»„ä»¶å°†ä¼šè¢«ç¼“å­˜ï¼-->
<keep-alive>
  <component v-bind:is="currentTabComponent"></component>
</keep-alive>

### å¼‚æ­¥ç»„ä»¶

- ä»¥å·¥å‚å‡½æ•°å®šä¹‰ç»„ä»¶
- å¼‚æ­¥è§£æç»„ä»¶å®šä¹‰
- åªæœ‰è¢«æ¸²æŸ“çš„æ—¶å€™æ‰ä¼šè§¦å‘å·¥å‚å‡½æ•°
- ç»“æœç¼“å­˜èµ·æ¥æä¾›æœªæ¥é‡æ¸²æŸ“
- Vue.component('async-webpack-example', function (resolve) {
  // è¿™ä¸ªç‰¹æ®Šçš„ `require` è¯­æ³•å°†ä¼šå‘Šè¯‰ webpack
  // è‡ªåŠ¨å°†ä½ çš„æ„å»ºä»£ç åˆ‡å‰²æˆå¤šä¸ªåŒ…ï¼Œè¿™äº›åŒ…
  // ä¼šé€šè¿‡ Ajax è¯·æ±‚åŠ è½½
  require(['./my-async-component'], resolve)
})

	- resolve å›è°ƒ

		- ä»æœåŠ¡å™¨å¾—åˆ°ç»„ä»¶æ—¶å€™è¢«è°ƒç”¨
		- reject(reason) è¡¨ç¤ºåŠ è½½å¤±è´¥

## å¤„ç†è¾¹ç•Œæƒ…å†µ

### è®¿é—®å…ƒç´ &ç»„ä»¶

- è®¿é—®æ ¹å®ä¾‹

	- $root

- è®¿é—®çˆ¶çº§ç»„ä»¶å®ä¾‹

	- $parent

- è®¿é—®å­ç»„ä»¶å®ä¾‹æˆ–å­å…ƒç´ 

	- $ref

- ä¾èµ–æ³¨å…¥

### ç¨‹åºåŒ–çš„ç›‘å¬äº‹ä»¶

- $emit è¢«v-onç›‘å¬
- ä¾¦å¬ä¸€ä¸ªäº‹ä»¶

	- $on(eventName, eventHandler)

- ä¸€æ¬¡æ€§ä¾¦å¬ä¸€ä¸ªäº‹ä»¶

	- $once(eventName,eventHandler)

- åœæ­¢ä¾¦å¬ä¸€ä¸ªäº‹ä»¶

	- $off(eventName,eventHandler)

### å¾ªç¯å¼•ç”¨

- é€’å½’ç»„ä»¶

	- ç»„ä»¶å¯ä»¥åœ¨è‡ªèº«æ¨¡ç‰ˆä¸­è°ƒç”¨è‡ªå·±
	- é€šè¿‡name

- ç»„ä»¶ä¸­å¾ªç¯å¼•ç”¨

### æ¨¡æ¿å®šä¹‰çš„æ›¿ä»£å“

- inline-template
- X-Template

### æ§åˆ¶æ›´æ–°

- å¼ºåˆ¶æ›´æ–°

	- $forceUpdate

- ä½å¼€é”€çš„é™æ€ç»„ä»¶

	- v-once

*XMind: ZEN - Trial Version*